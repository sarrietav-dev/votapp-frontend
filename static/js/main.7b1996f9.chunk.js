(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{199:function(e,t,n){},206:function(e,t,n){},339:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n(15),i=n.n(r),s=(n(199),n(7)),o=n(166),l=(n(206),n(13)),u=n(176),d=n(395),j=n(34),b=n(26),h=n(396),f=n(391),O=n(181),m=n(385),p=n(379),x=n(394),g=n(419),v=n(21),y=n(102),C=n.n(y),E=n(17),w=Object(E.c)({name:"dialog",initialState:{isOpen:!1},reducers:{openDialog:function(e){e.isOpen=!0},closeDialog:function(e){e.isOpen=!1}}}),k=w.actions,S=k.openDialog,T=k.closeDialog,_=w.reducer,I=n(9),A=n.n(I),W=n(16),N=n(28),U=n.n(N),P="https://votapp-backend.herokuapp.com/api",V=Object(E.c)({name:"alerts",initialState:{open:!1,message:"",variant:"info"},reducers:{raiseAlert:function(e,t){e.open=!0,e.message=t.payload.message,e.variant=t.payload.variant},closeAlert:function(e,t){e.open=!1,e.message="",e.variant=""}}}),q=V.actions,D=q.raiseAlert,B=q.closeAlert,L=V.reducer,R=Object(E.c)({name:"auth",initialState:{authToken:"",isAdmin:"",_id:""},reducers:{setAuthToken:function(e,t){e.authToken=t.payload},logOut:function(e){e.authToken="",e.isAdmin=!1,e._id=""},setData:function(e,t){e.isAdmin=t.payload.is_admin,e._id=t.payload._id}}}),F=R.actions,M=F.logOut,H=F.setAuthToken,Y=F.setData,G=R.reducer,z=n(382),J=n(412),K=n(387),Q=function(){return{login:{password:"Password",logIn:"Log In",requestAccess:"Request access"},registerDialog:{dialogTitle:"Fill request",yourName:"Your Name",code:"Code",password:"Password",gender:"Gender",male:"Male",female:"Female",cancel:"Cancel",send:"Send",careers:{computerScience:"Computer Science",chemistryEngineering:"Chemistry Engineering",civilEngineering:"Civil Engineering",medicine:"Medicine"}},dashboard:{blob:"There are no elections yet"},createElectionDialog:{createElection:"Create election",title:"Title",position:"Position",selectCandidates:"Select Candidates Beforehand",cancel:"Cancel",create:"Create"},userSelector:{placeholder:"Select the candidates"},adminPanel:{verifyUsers:"Verify Users"},candidateCard:{cardTitle:"Candidate"},deleteElectionWarning:{dialogTitle:"Are you sure you want to delete this?",dialogContent:"This can't be undone",cancel:"Cancel",continue:"Continue"},electionDashboard:{blob:"You can vote now!",raiseAlertMessage:"You already voted!",electionEnded:"The election has ended",userVoted:"You already voted",voteNow:"Vote now!",endElection:"End Election"},electionSettings:{dialogTitle:"Election settings",title:"Title",position:"Position",cancel:"Cancel",accept:"Accept"}}},Z=function(){return{login:{password:"Contrase\xf1a",logIn:"Ingresar",requestAccess:"Solicitar acceso"},registerDialog:{dialogTitle:"Llena la solicitud",yourName:"Tu nombre",code:"C\xf3digo",password:"Contrase\xf1a",gender:"G\xe9nero",male:"Hombre",female:"Mujer",cancel:"Cancelar",send:"Enviar",careers:{computerScience:"Ingenier\xeda de Sistemas",chemistryEngineering:"Ingenier\xeda Qu\xedmica",civilEngineering:"Ingenier\xeda Civil",medicine:"Medicina"}},dashboard:{blob:"No hay elecciones."},createElectionDialog:{createElection:"Crear elecci\xf3n",title:"Titulo",position:"Posici\xf3n",selectCandidates:"Seleccionar candidatos de antemano",cancel:"Cancelar",create:"Crear"},userSelector:{placeholder:"Selecciona los candidatos"},adminPanel:{verifyUsers:"Verificar usuarios"},candidateCard:{cardTitle:"Candidato"},deleteElectionWarning:{dialogTitle:"Est\xe1 seguro que quiere eliminar esta elecci\xf3n?",dialogContent:"Esto no puede deshacerse",cancel:"Cancelar",continue:"Continuar"},electionDashboard:{blob:"Puede votar ahora!",raiseAlertMessage:"Ya has votado!",electionEnded:"La elecci\xf3n ha terminado",userVoted:"Ya has votado!",voteNow:"Vota ahora!",endElection:"Terminar elecci\xf3n"},electionSettings:{dialogTitle:"Ajustes de elecci\xf3n",title:"T\xedtulo",position:"Posici\xf3n",cancel:"Cancelar",accept:"Aceptar"}}},X={language:"en",locale:Q()},$=Object(E.c)({name:"locales",initialState:X,reducers:{setLocale:function(e,t){e.language=t.payload,"en"===e.language?e.locale=Q():e.locale=Z()}}}),ee=$.actions.setLocale,te=$.reducer,ne=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.locales.language}));return Object(c.jsxs)(p.a,{style:{padding:10},children:[Object(c.jsx)(z.a,{children:"Language"}),Object(c.jsxs)(J.a,{onChange:function(t){e(ee(t.target.value))},defaultValue:t,children:[Object(c.jsx)(K.a,{value:"en",children:"English"}),Object(c.jsx)(K.a,{value:"es",children:"Espa\xf1ol"})]})]})},ce=n(388),ae=n(389),re=n(390),ie=n(341),se=n(420),oe=n(392),le=n(413),ue=n(393),de=function(e){return function(){var t=Object(W.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U()({method:"POST",url:"".concat(P,"/users/"),data:e}).then((function(){Object.prototype.hasOwnProperty.call(e,"is_admin")?n(D({message:"New admin has been created",variant:"success"})):n(D({message:"Request sent!",variant:"success"}))})).catch((function(e){return n(D({message:e.response.data.error,variant:"error"}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},je=function(){var e=Object(s.c)((function(e){return e.dialog.isOpen})),t=Object(s.c)((function(e){return e.locales.locale.registerDialog})),n=Object(v.b)(),a=n.handleSubmit,r=n.control,i=Object(s.b)();return Object(c.jsxs)(ce.a,{open:e,maxWidth:"xs",fullWidth:!0,children:[Object(c.jsx)(ae.a,{children:t.dialogTitle}),Object(c.jsxs)("form",{onSubmit:a((function(e){i(de(e)),i(T())})),children:[Object(c.jsx)(re.a,{children:Object(c.jsxs)(f.a,{container:!0,spacing:3,direction:"column",children:[Object(c.jsx)(f.a,{item:!0,xs:12,children:Object(c.jsx)(v.a,{name:"name",as:Object(c.jsx)(g.a,{name:"name",label:t.yourName,fullWidth:!0}),control:r,defaultValue:"",rules:{required:!0}})}),Object(c.jsx)(f.a,{item:!0,xs:!0,children:Object(c.jsx)(v.a,{name:"code",as:Object(c.jsx)(g.a,{type:"number",name:"code",label:t.code,fullWidth:!0}),control:r,defaultValue:"",rules:{required:!0,maxLength:10}})}),Object(c.jsx)(f.a,{item:!0,xs:!0,children:Object(c.jsx)(v.a,{name:"email",as:Object(c.jsx)(g.a,{type:"email",name:"email",label:"Email",fullWidth:!0}),control:r,defaultValue:"",rules:{required:!0}})}),Object(c.jsx)(f.a,{item:!0,xs:!0,children:Object(c.jsx)(v.a,{name:"password",as:Object(c.jsx)(g.a,{type:"password",name:"password",label:t.password,fullWidth:!0}),control:r,defaultValue:"",rules:{required:!0}})}),Object(c.jsx)(f.a,{item:!0,xs:!0,children:Object(c.jsx)(v.a,{name:"gender",as:Object(c.jsxs)(p.a,{component:"fieldset",fullWidth:!0,children:[Object(c.jsx)(ie.a,{component:"legend",children:t.gender}),Object(c.jsxs)(se.a,{"aria-label":"gender",name:"gender",children:[Object(c.jsx)(oe.a,{value:"female",label:t.female,control:Object(c.jsx)(le.a,{})}),Object(c.jsx)(oe.a,{value:"male",label:t.male,control:Object(c.jsx)(le.a,{})})]})]}),control:r,defaultValue:"",rules:{required:!0}})}),Object(c.jsx)(f.a,{item:!0,xs:!0,children:Object(c.jsxs)(p.a,{fullWidth:!0,children:[Object(c.jsx)(z.a,{children:"Career"}),Object(c.jsx)(v.a,{name:"career",as:Object(c.jsxs)(J.a,{fullWidth:!0,children:[Object(c.jsx)(K.a,{value:"computerScience",children:t.careers.computerScience}),Object(c.jsx)(K.a,{value:"chemistryEngineering",children:t.careers.chemistryEngineering}),Object(c.jsx)(K.a,{value:"civilEngineering",children:t.careers.civilEngineering}),Object(c.jsx)(K.a,{value:"medicine",children:t.careers.medicine})]}),control:r,rules:{required:!0}})]})}),Object(c.jsx)(f.a,{item:!0,xs:!0,children:Object(c.jsx)(v.a,{name:"semester",as:Object(c.jsx)(g.a,{type:"number",InputProps:{inputProps:{min:1,max:10}},label:"Semester",fullWidth:!0}),control:r,defaultValue:1,rules:{required:!0}})})]})}),Object(c.jsxs)(ue.a,{children:[Object(c.jsx)(x.a,{onClick:function(){return i(T())},color:"secondary",variant:"outlined",children:t.cancel}),Object(c.jsx)(x.a,{type:"submit",color:"primary",variant:"contained",children:t.send})]})]})]})},be=n.p+"static/media/Votapp.30af7bf4.png",he=Object(d.a)((function(e){return{container:{padding:e.spacing(1)},image:Object(b.a)({maxWidth:"100%",height:"auto",margin:0},e.breakpoints.up(800),{marginRight:100}),mainContainer:Object(b.a)({display:"flex",justifyContent:"center",minHeight:"75vh",alignItems:"center"},e.breakpoints.down(600),{alignItems:"flex-start"})}}));var fe,Oe=function(){var e=Object(v.b)(),t=e.handleSubmit,n=e.control,r=Object(a.useState)(null),i=Object(j.a)(r,2),o=i[0],u=i[1],d=he(),b=Object(l.g)(),y=Object(s.b)(),E=Object(s.c)((function(e){return e.auth.authToken})),w=Object(s.c)((function(e){return e.locales.locale.login}));return Object(a.useEffect)((function(){""!==E&&b.push("/")}),[E,b]),Object(c.jsxs)(h.a,{className:d.container,maxWidth:"md",children:[Object(c.jsx)(f.a,{container:!0,justify:"flex-end",children:Object(c.jsxs)(f.a,{item:!0,children:[Object(c.jsx)(O.a,{onClick:function(e){return u(e.currentTarget)},children:Object(c.jsx)(C.a,{})}),Object(c.jsx)(m.a,{open:Boolean(o),onClose:function(){return u(null)},anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(c.jsx)(ne,{})})]})}),Object(c.jsxs)(f.a,{children:[Object(c.jsx)(je,{}),Object(c.jsxs)(f.a,{container:!0,spacing:2,className:d.mainContainer,children:[Object(c.jsx)("img",{src:be,alt:"Logo of the app",className:d.image}),Object(c.jsx)("form",{action:"",onSubmit:t((function(e){y(function(e){return function(){var t=Object(W.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U()({method:"POST",url:"".concat(P,"/login/"),data:e}).then((function(e){var t=e.data.token;n(H(t)),n(Y({_id:e.data._id,is_admin:e.data.is_admin}))})).catch((function(e){n(D({variant:"error",message:e.response.data.error}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),b.push("/")})),children:Object(c.jsx)(f.a,{item:!0,children:Object(c.jsxs)(f.a,{container:!0,spacing:2,direction:"column",alignItems:"center",children:[Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(p.a,{children:Object(c.jsx)(v.a,{name:"email",as:Object(c.jsx)(g.a,{variant:"outlined",name:"email",label:"Email"}),control:n,defaultValue:"",rules:{required:!0,min:6,max:1024}})})}),Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(p.a,{children:Object(c.jsx)(v.a,{name:"password",as:Object(c.jsx)(g.a,{label:w.password,name:"password",type:"password",variant:"outlined"}),control:n,defaultValue:"",rules:{required:!0,min:6,max:1024}})})}),Object(c.jsxs)(f.a,{container:!0,spacing:2,children:[Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(x.a,{color:"primary",type:"submit",variant:"contained",children:w.logIn})}),Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(x.a,{color:"primary",variant:"outlined",onClick:function(){y(S())},children:w.requestAccess})})]})]})})})]})]})]})},me=n(72),pe=n.n(me),xe=n(397),ge=n(398),ve=n(46),ye=n(399),Ce=n(104),Ee=n.n(Ce),we=n(105),ke=n.n(we),Se=n(168),Te=n.n(Se),_e=n(103),Ie=n.n(_e),Ae=n(23),We=n(31),Ne=Object(E.b)("elections/voteStatus",function(){var e=Object(W.a)(A.a.mark((function e(t,n){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.patch("".concat(P,"/elections/vote/").concat(t.electionId),{userId:t.userId,candidateId:t.candidateId}).then((function(e){return n.dispatch(D({message:"Ballot stored!",variant:"success"})),e})).catch((function(e){return n.dispatch(D({message:e.response.data.error,variant:"error"}))}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ue=Object(E.b)("elections/endElectionStatus",function(){var e=Object(W.a)(A.a.mark((function e(t,n){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.patch("".concat(P,"/elections/end/").concat(t)).then((function(e){return n.dispatch(D({message:"The election has ended successfully",variant:"success"})),e})).catch((function(e){n.dispatch(D({message:e.response.data.error,variant:"error"}))}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Pe=Object(E.c)({name:"elections",initialState:{elections:[],currentElection:{},selectedCandidates:[]},reducers:{fetchElections:function(e,t){e.elections=t.payload},saveElection:function(e,t){e.elections.push(t.payload)},setCurrentElection:function(e,t){e.currentElection=e.elections.filter((function(e){return e._id===t.payload}))[0]},emptyCurrentElection:function(e){e.currentElection={}},deleteElection:function(e,t){e.elections=e.elections.filter((function(e){return e._id!==t.payload})),e.currentElection={}},editElection:function(e,t){e.elections=function(e,t){var n=function(e,t){return e.filter((function(e){return e._id!==t}))}(e,t._id),c=Object(We.a)({},t);return[].concat(Object(Ae.a)(n),[c])}(e.elections,t.payload),e.currentElection=t.payload},setCandidates:function(e,t){e.selectedCandidates=t.payload}},extraReducers:(fe={},Object(b.a)(fe,Ne.fulfilled,(function(e,t){var n=e.currentElection.candidates.filter((function(e){return e._id===t.payload.candidateId}));n.votes+=1,e.currentElection.candidates.filter((function(e){return e._id!==t.payload.candidateId})),e.currentElection.candidates.push(n),e.currentElection.registeredVotes.push(t.payload.userId),e.elections.filter((function(t){return t._id!==e.currentElection._id})),e.elections.push(e.currentElection)})),Object(b.a)(fe,Ue.fulfilled,(function(e){e.currentElection.status="finished",e.elections.filter((function(t){return t._id!==e.currentElection._id})),e.elections.push(e.currentElection)})),fe)}),Ve=Pe.actions,qe=Ve.deleteElection,De=Ve.editElection,Be=Ve.emptyCurrentElection,Le=Ve.fetchElections,Re=Ve.saveElection,Fe=Ve.setCurrentElection,Me=Ve.setCandidates,He=Pe.reducer,Ye=Object(E.c)({name:"panel",initialState:{open:!1},reducers:{openPanel:function(e){e.open=!0},closePanel:function(e){e.open=!1}}}),Ge=Ye.actions,ze=Ge.closePanel,Je=Ge.openPanel,Ke=Ye.reducer,Qe=Object(d.a)((function(){return{navbarRightButtons:{marginLeft:"auto"},navbar:{marginBottom:20}}})),Ze=function(e){var t=e.actionIcon,n=e.path,a=Qe(),r=Object(s.b)(),i=Object(l.g)();return Object(c.jsx)("div",{className:"appbar-wrapper",children:Object(c.jsx)(xe.a,{position:"static",className:a.navbar,children:Object(c.jsxs)(ge.a,{children:[Object(c.jsx)(O.a,{edge:"start",color:"inherit",onClick:function(){"back"===t?(r(Be()),i.push(n.from)):i.push("/")},children:"back"===t?Object(c.jsx)(Ie.a,{}):Object(c.jsx)(Ee.a,{})}),Object(c.jsx)(ve.a,{variant:"h5",children:"Voteapp"}),Object(c.jsxs)("div",{className:a.navbarRightButtons,children:[Object(c.jsx)(ye.a,{title:"Admin Panel",children:Object(c.jsx)(O.a,{color:"inherit",onClick:function(){r(Je())},children:Object(c.jsx)(ke.a,{})})}),Object(c.jsx)(ye.a,{title:"Logout",children:Object(c.jsx)(O.a,{color:"inherit",onClick:function(){r((function(e){localStorage.removeItem("AUTH_TOKEN"),e(M())})),i.push("/login")},children:Object(c.jsx)(Te.a,{})})})]})]})})})};Ze.defaultProps={actionIcon:"home",path:{from:""}};var Xe=Ze,$e=n(400),et=n(415),tt=n(421),nt=function(){var e=Object(s.c)((function(e){return e.users.users})),t=Object(s.b)(),n=Object(s.c)((function(e){return e.locales.locale.userSelector}));return Object(c.jsx)(et.a,{multiple:!0,options:e,getOptionLabel:function(e){return e.name},onChange:function(e,n){return t(Me(n))},renderTags:function(e,t){return e.map((function(e,n){return Object(c.jsx)(tt.a,Object(We.a)({variant:"default",label:e.name},t({index:n})))}))},renderInput:function(e){return Object(c.jsx)(g.a,Object(We.a)(Object(We.a)({},e),{},{variant:"outlined",placeholder:n.placeholder}))}})},ct=Object(E.b)("users/fetchUsersStatus",function(){var e=Object(W.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U.a.get("".concat(P,"/users/")).then((function(e){return e.data})).catch((function(e){return t.dispatch(D({message:e.response.data.error,variant:"error"}))})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),at=function(){var e=Object(v.b)(),t=e.handleSubmit,n=e.control,r=Object(a.useState)(!0),i=Object(j.a)(r,1)[0],o=Object(s.b)(),l=Object(s.c)((function(e){return e.dialog.isOpen})),u=Object(s.c)((function(e){return e.locales.locale.createElectionDialog})),d=Object(s.c)((function(e){return e.election.selectedCandidates})),b=function(){return o(T())};return Object(a.useEffect)((function(){return o(ct())}),[]),Object(c.jsxs)(ce.a,{open:l,onClose:b,fullWidth:!0,maxWidth:"xs",children:[Object(c.jsx)(ae.a,{children:u.createElection}),Object(c.jsxs)("form",{action:"",onSubmit:t((function(e){o(function(e){return function(){var t=Object(W.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U()({method:"POST",url:"".concat(P,"/elections"),data:e}).then((function(e){n(Re(e.data))})).catch((function(e){n(D({variant:"error",message:e.response.data.error}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(Object(We.a)(Object(We.a)({},e),{},{candidates:d}))),b()})),children:[Object(c.jsx)(re.a,{children:Object(c.jsxs)(f.a,{container:!0,direction:"column",children:[Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(v.a,{name:"title",as:Object(c.jsx)(g.a,{autoFocus:!0,margin:"dense",id:"election-title",label:u.title,type:"text",fullWidth:!0,variant:"filled",name:"title"}),control:n,defaultValue:"",rules:{required:!0,min:6}})}),Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(v.a,{name:"position",as:Object(c.jsx)(g.a,{autoFocus:!0,margin:"dense",id:"election-position",label:u.position,type:"text",fullWidth:!0,variant:"filled",name:"position"}),control:n,defaultValue:"",rules:{required:!0,min:6}})}),Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(oe.a,{disabled:!0,control:Object(c.jsx)($e.a,{checked:i}),label:u.selectCandidates})}),i&&Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(nt,{})})]})}),Object(c.jsxs)(ue.a,{children:[Object(c.jsx)(x.a,{color:"primary",onClick:b,children:u.cancel}),Object(c.jsx)(x.a,{color:"primary",type:"submit",children:u.create})]})]})]})},rt=n(401),it=n(402),st=n(403),ot=Object(d.a)({card:{width:275},editButton:{marginLeft:"auto"}}),lt=function(e){var t=e.data,n=ot(),a=Object(l.g)(),r=Object(s.b)();return Object(c.jsx)(rt.a,{className:n.card,variant:"outlined",onClick:function(){r(Fe(t._id)),a.push("/election")},children:Object(c.jsx)(it.a,{children:Object(c.jsxs)(st.a,{children:[Object(c.jsx)(ve.a,{variant:"h5",children:t.title}),Object(c.jsx)(ve.a,{children:t.position})]})})})},ut=n(404),dt=n(169),jt=n.n(dt),bt=Object(d.a)((function(){return{fab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"}}})),ht=function(){var e=bt(),t=Object(s.b)();return Object(c.jsx)("div",{className:"fab-wrapper",children:Object(c.jsx)(ut.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:function(){return t(S())},children:Object(c.jsx)(jt.a,{})})})},ft=function(e){var t=e.text;return Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(c.jsx)(ve.a,{variant:"h4",color:"secondary",style:{position:"absolute",margin:"0 auto",alignSelf:"center",justifySelf:"center"},children:t}),Object(c.jsx)("svg",{viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",width:"500px",height:"400px",style:{},children:Object(c.jsx)("path",{fill:"#8CB3FF",d:"M26.8,-48.5C38.8,-39.6,55.2,-40.5,66.5,-34C77.8,-27.6,84,-13.8,83.2,-0.5C82.3,12.8,74.5,25.6,66.5,37.9C58.5,50.1,50.5,61.8,39.4,67.7C28.3,73.6,14.1,73.8,1.5,71.2C-11.1,68.6,-22.3,63.3,-33.1,57.2C-43.8,51.1,-54.3,44.2,-58.2,34.5C-62.1,24.9,-59.5,12.4,-56.8,1.6C-54,-9.3,-51.2,-18.6,-48,-29.6C-44.9,-40.7,-41.6,-53.4,-33.5,-64.6C-25.5,-75.8,-12.7,-85.4,-2.6,-80.8C7.4,-76.2,14.9,-57.5,26.8,-48.5Z",transform:"translate(100 100)"})})]})},Ot=function(){var e=Object(s.b)();Object(a.useEffect)(Object(W.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e(function(){var e=Object(W.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get("".concat(P,"/elections/")).then((function(e){return t(Le(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(n){e(D({variant:"error",message:n}))}case 1:case"end":return t.stop()}}),t)}))),[]);var t=Object(s.c)((function(e){return e.election.elections})),n=Object(s.c)((function(e){return e.auth.isAdmin})),r=Object(s.c)((function(e){return e.locales.locale.dashboard}));return Object(c.jsxs)("div",{className:"dashboard-wrapper",children:[n&&Object(c.jsx)(ht,{}),Object(c.jsx)(Xe,{}),Object(c.jsx)(at,{}),0===t.length&&Object(c.jsx)(ft,{text:r.blob}),Object(c.jsx)(f.a,{container:!0,spacing:2,justify:"center",alignItems:"center",style:{margin:0},xs:12,children:t.map((function(e){return Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(lt,{data:{_id:e._id,title:e.title,position:e.position}})},pe.a.generate())}))})]})},mt=n(177),pt=function(e){var t=e.children,n=Object(mt.a)(e,["children"]),a=Object(s.c)((function(e){return e.auth.authToken}));return Object(c.jsx)(l.b,Object(We.a)(Object(We.a)({},n),{},{render:function(){return""!==a?t:Object(c.jsx)(l.a,{to:"/login"})}}))},xt=n(170),gt=n.n(xt),vt=function(e){var t=e.open,n=e.setIsWarningOpen,a=Object(s.b)(),r=Object(s.c)((function(e){return e.election.currentElection._id})),i=Object(s.c)((function(e){return e.locales.locale.deleteElectionWarning})),o=Object(l.g)();return Object(c.jsxs)(ce.a,{open:t,children:[Object(c.jsx)(ae.a,{children:i.dialogTitle}),Object(c.jsx)(re.a,{children:i.dialogContent}),Object(c.jsxs)(ue.a,{children:[Object(c.jsx)(x.a,{onClick:function(){return n(!1)},color:"secondary",children:i.cancel}),Object(c.jsx)(x.a,{onClick:function(){try{a(function(e){return function(){var t=Object(W.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U()({method:"DELETE",url:"".concat(P,"/elections/").concat(e)}).then((function(){return n(qe(e))})).catch((function(e){n(D({variant:"error",message:e.response.data.error}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r)),n(!1),a(T()),o.push("/")}catch(e){a(D({variant:"error",message:e}))}},children:i.continue})]})]})},yt=function(){var e=Object(v.b)(),t=e.handleSubmit,n=e.control,r=Object(a.useState)(!1),i=Object(j.a)(r,2),o=i[0],l=i[1],u=Object(s.c)((function(e){return e.dialog.isOpen})),d=Object(s.c)((function(e){return e.locales.locale.electionSettings})),b=Object(s.c)((function(e){return e.election.currentElection})),h=Object(s.b)();return Object(c.jsxs)("div",{className:"election-settings-wrapper",children:[Object(c.jsx)(vt,{open:o,setIsWarningOpen:l}),Object(c.jsx)(ce.a,{open:u,fullWidth:!0,maxWidth:"xs",children:Object(c.jsxs)("form",{onSubmit:t((function(e){try{h(function(e){return function(){var t=Object(W.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U()({method:"PATCH",url:"".concat(P,"/elections/").concat(e._id),data:e}).then((function(){return n(De(e))})).catch((function(e){n(D({variant:"error",message:e.response.data.error}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(Object(We.a)(Object(We.a)({},b),e))),h(T())}catch(t){h(D({variant:"error",message:t}))}})),children:[Object(c.jsx)(ae.a,{children:d.dialogTitle}),Object(c.jsx)(re.a,{children:Object(c.jsxs)(f.a,{container:!0,direction:"column",children:[Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(v.a,{name:"title",as:Object(c.jsx)(g.a,{margin:"dense",label:d.title,type:"text",fullWidth:!0,variant:"filled",name:"title"}),control:n,defaultValue:"",rules:{required:!0,min:6}})}),Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(v.a,{name:"position",as:Object(c.jsx)(g.a,{margin:"dense",label:d.position,type:"text",fullWidth:!0,variant:"filled",name:"position"}),rules:{required:!0,min:6},defaultValue:"",control:n})})]})}),Object(c.jsx)(ue.a,{children:Object(c.jsxs)(f.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(O.a,{onClick:function(){return l(!0)},children:Object(c.jsx)(gt.a,{})})}),Object(c.jsx)(f.a,{item:!0,children:Object(c.jsxs)("div",{children:[Object(c.jsx)(x.a,{color:"primary",onClick:function(){return h(T())},children:d.cancel}),Object(c.jsx)(x.a,{color:"primary",type:"submit",children:d.accept})]})})]})})]})})]})},Ct=n(171),Et=function(e){var t=e.map((function(e){return e.votes}));return{labels:e.map((function(e){return e.name})),datasets:[{label:"Number of votes",data:t,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},wt=function(){var e=Object(s.c)((function(e){return e.election.currentElection.candidates}));return Object(c.jsx)(Ct.a,{data:Et(e),height:400,width:75,options:{maintainAspectRatio:!1}})},kt=Object(d.a)((function(){return{electionWrapper:{height:"100vh"},banner:{margin:0},banner__title:{marginTop:25,marginBottom:10},banner__position:{marginBottom:25}}})),St=function(){var e=Object(s.c)((function(e){return e.election.currentElection})),t=Object(s.c)((function(e){return e.auth})),n=Object(s.c)((function(e){return e.locales.locale.electionDashboard})),r=1===e.registeredVotes.filter((function(e){return e===t._id})).length,i=kt(),o=Object(s.b)(),u=Object(l.g)();Object(a.useEffect)((function(){0===Object.keys(e).length&&u.push("/")}));return Object(c.jsxs)("div",{className:i.electionWrapper,children:[Object(c.jsx)(Xe,{actionIcon:"back",path:{from:"/"}}),Object(c.jsx)(yt,{}),t.isAdmin&&Object(c.jsx)(ht,{}),Object(c.jsxs)(h.a,{maxWidth:"md",className:i.banner,children:[Object(c.jsx)(ve.a,{variant:"h4",className:i.banner__title,children:e.title}),Object(c.jsx)(ve.a,{variant:"h5",className:i.banner__position,children:e.position}),Object(c.jsx)(x.a,{color:"secondary",variant:"contained",onClick:function(){t.isAdmin?o(r?D({message:n.raiseAlertMessage,variant:"warning"}):Ue(e._id)):u.push("/vote")},disabled:"finished"===e.status||r,children:"finished"===e.status?n.electionEnded:t.isAdmin?n.endElection:r?n.userVoted:n.voteNow}),t.isAdmin&&Object(c.jsx)(O.a,{onClick:function(){return o(S())},children:Object(c.jsx)(ke.a,{})})]}),Object(c.jsx)("div",{className:"winner-graph",children:"finished"===e.status?Object(c.jsx)(wt,{}):Object(c.jsx)(ft,{text:n.blob})})]})},Tt=n(416),_t=n(414),It=function(){var e=Object(s.c)((function(e){return e.alert})),t=e.open,n=e.message,a=e.variant,r=Object(s.b)(),i=function(){r(B())};return Object(c.jsx)(Tt.a,{autoHideDuration:6e3,open:t,onClose:i,children:Object(c.jsx)(_t.a,{elevation:6,variant:"filled",severity:a,onClose:i,children:n})})},At=n(343),Wt=n(408),Nt=n(409),Ut=n(422),Pt=n(386),Vt=n(175),qt=n.n(Vt),Dt=n(417),Bt=n(405),Lt=n(406),Rt=n(407),Ft=n(174),Mt=n.n(Ft),Ht=Object(E.c)({name:"unverified",initialState:{unverifiedUsers:[]},reducers:{fetchUnverifiedUsers:function(e,t){e.unverifiedUsers=t.payload},verifyUser:function(e,t){e.unverifiedUsers=e.unverifiedUsers.filter((function(e){return e._id!==t.payload}))},denyUser:function(e,t){e.unverifiedUsers=e.unverifiedUsers.filter((function(e){return e._id!==t.payload}))}}}),Yt=Ht.actions,Gt=Yt.denyUser,zt=Yt.fetchUnverifiedUsers,Jt=Yt.verifyUser,Kt=Ht.reducer,Qt=Object(d.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},summary:{backgroundColor:"#d5d5d5"},summaryText:{margin:e.spacing(1)},details:{flexDirection:"column"}}})),Zt=function(e){var t=e.data,n=Qt(),a=Object(s.b)();return Object(c.jsxs)(Dt.a,{className:n.root,children:[Object(c.jsx)(Bt.a,{expandIcon:Object(c.jsx)(Mt.a,{}),className:n.summary,children:Object(c.jsx)(ve.a,{variant:"h5",children:t.name})}),Object(c.jsxs)(Lt.a,{className:n.details,children:[Object(c.jsxs)(ve.a,{gutterBottom:!0,children:["Code:",t.code]}),Object(c.jsx)("br",{}),Object(c.jsxs)(ve.a,{gutterBottom:!0,children:["Email:",t.email]}),Object(c.jsx)("br",{}),Object(c.jsxs)(ve.a,{children:["Gender:",t.gender]})]}),Object(c.jsxs)(Rt.a,{children:[Object(c.jsx)(x.a,{color:"secondary",variant:"outlined",onClick:function(){var e;a((e=t._id,function(){var t=Object(W.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U()({method:"DELETE",url:"".concat(P,"/users/deny/").concat(e)}).then((function(t){var c=t.data;n(Gt(e)),D({message:c.message,variant:"success"})})).catch((function(e){n(D({message:e.response.data.error,variant:"error"}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Deny"}),Object(c.jsx)(x.a,{type:"submit",color:"primary",variant:"contained",onClick:function(){var e;a((e=t._id,function(){var t=Object(W.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U()({method:"PATCH",url:"".concat(P,"/users/verify/").concat(e)}).then((function(t){var c=t.data;n(Jt(e)),D({message:c.message,variant:"success"})})).catch((function(e){n(D({message:e.response.data.error,variant:"error"}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Accept"})]})]})},Xt=function(e){var t=e.isOpen,n=e.onClose,r=e.unverifiedUsers,i=Object(s.b)();return 0===r.length&&n(),Object(a.useEffect)((function(){i(function(){var e=Object(W.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({method:"GET",url:"".concat(P,"/users/unverified")}).then((function(e){var n=e.data;t(zt(n))})).catch((function(e){return t(D({message:e.response.data.error,variant:"error"}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(c.jsx)(ce.a,{open:t,onClose:n,fullWidth:!0,children:Object(c.jsx)(re.a,{children:r.map((function(e){return Object(c.jsx)(Zt,{data:e},Object(me.generate)())}))})})},$t=function(e){var t=e.handleAddUserClick,n=e.itemText;return Object(c.jsxs)(At.a,{button:!0,onClick:t,children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(qt.a,{})}),Object(c.jsx)(Nt.a,{primary:n})]})},en=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],i=Object(s.b)(),o=Object(s.c)((function(e){return e.panel.open})),l=Object(s.c)((function(e){return e.locales.locale.adminPanel})),u=Object(s.c)((function(e){return e.auth.isAdmin})),d=Object(s.c)((function(e){return e.unverified.unverifiedUsers}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ut.a,{open:o,anchor:"right",onClose:function(){return i(ze())},children:Object(c.jsxs)(Pt.a,{children:[u&&Object(c.jsx)($t,{handleAddUserClick:function(){0===d.length?i(D({message:"There are no users left to check",variant:"warning"})):r(!0)},itemText:l.verifyUsers}),Object(c.jsxs)(At.a,{children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(C.a,{})}),Object(c.jsx)(ne,{})]})]})}),Object(c.jsx)(Xt,{isOpen:n,onClose:function(){return r(!1)},unverifiedUsers:d})]})},tn=n(410),nn=n(423),cn=n(411),an=function(e){var t=e.data,n=e.onClick,a=Object(s.c)((function(e){return e.locales.locale.candidateCard}));return Object(c.jsxs)(rt.a,{style:{maxWidth:500,width:250},children:[Object(c.jsx)(tn.a,{avatar:Object(c.jsx)(nn.a,{children:t.name[0]}),title:a.candidateCard}),Object(c.jsxs)(st.a,{children:[Object(c.jsx)(ve.a,{children:t.name}),Object(c.jsx)(ve.a,{children:t.code}),Object(c.jsxs)(f.a,{container:!0,justify:"space-evenly",style:{marginTop:10},children:[Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(ve.a,{children:t.career})}),Object(c.jsx)(f.a,{item:!0,children:Object(c.jsx)(ve.a,{children:" "!==t.semester?"Semester: ".concat(t.semester):""})})]})]}),Object(c.jsx)(cn.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(c.jsx)(O.a,{onClick:function(){return n(t._id)},children:Object(c.jsx)(Ee.a,{})})})]})},rn=Object(d.a)((function(){return{votingPanel:{height:"100vh",display:"flex",justifyContent:"space-evenly",alignItems:"center"}}})),sn=function(){var e=Object(s.c)((function(e){return e.election.currentElection.candidates}))||[],t=Object(s.c)((function(e){return e.election.currentElection._id})),n=Object(s.c)((function(e){return e.auth._id})),r=rn(),i=Object(l.g)(),o=Object(s.b)(),u=function(e){o(Ne({electionId:t,userId:n,candidateId:e})),i.push("/election")};return Object(a.useEffect)((function(){0===e.length&&i.push("/")})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O.a,{onClick:function(){i.push("/election")},children:Object(c.jsx)(Ie.a,{})}),Object(c.jsx)("div",{className:r.votingPanel,children:e.map((function(e){return Object(c.jsx)(an,{data:e,onClick:u},Object(me.generate)())}))})]})},on=Object(d.a)({app:{height:"100vh"}});var ln=function(){var e=on();return Object(c.jsxs)("div",{className:e.app,children:[Object(c.jsx)(en,{}),Object(c.jsx)(It,{}),Object(c.jsx)(u.a,{children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{path:"/login",children:Object(c.jsx)(Oe,{})}),Object(c.jsx)(pt,{path:"/vote",children:Object(c.jsx)(sn,{})}),Object(c.jsx)(pt,{path:"/election",children:Object(c.jsx)(St,{})}),Object(c.jsx)(pt,{path:"/",children:Object(c.jsx)(Ot,{})})]})})]})},un=n(42),dn=Object(E.c)({name:"users",initialState:{users:[]},reducers:{setUser:function(e,t){e.users=t.payload}},extraReducers:Object(b.a)({},ct.fulfilled,(function(e,t){e.users=t.payload}))}),jn=(dn.actions.setUser,dn.reducer),bn=Object(un.c)({auth:G,dialog:_,election:He,alert:L,panel:Ke,unverified:Kt,users:jn,locales:te}),hn=Object(E.a)({reducer:bn});Object(o.config)(),i.a.render(Object(c.jsx)(s.a,{store:hn,children:Object(c.jsx)(ln,{})}),document.getElementById("root"))}},[[339,1,2]]]);
//# sourceMappingURL=main.7b1996f9.chunk.js.map